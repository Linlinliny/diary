# diary应用

## 简介

diary是一个iOS平台的日记记录应用，旨在为用户提供一个简洁美观的界面来记录和查看他们的个人日记。该应用支持文本和图片的输入，保证用户能够记录生活中的精彩瞬间。

## 功能详述

### 创建日记条目

- 用户可以通过点击导航栏上的“加号”按钮来创建新的日记条目。
- 在新条目页面，用户可以输入文本，选择日期，并通过图片选择器添加图片。
- 添加的图片将被保存在应用的本地目录中，确保私密性和安全性。

### 查看日记条目

- 主界面以列表形式显示所有日记条目，每个条目显示为一个卡片，包括摘要文本和关联图片的缩略图。
- 用户可以点击任何一个日记条目，以查看详细内容和全部图片。
- 日记卡片设计包括动态展开效果，使查看和浏览内容更加直观。

### 编辑和删除功能

- 用户可以通过长按日记条目来激活上下文菜单，该菜单提供“编辑”和“删除”选项。
- 编辑功能允许用户修改日记条目的文本内容或更新图片。
- 删除功能将永久移除日记条目及其所有数据。

## 架构和技术细节

### 架构

- **AppDelegate**：负责应用的启动逻辑和创建必要的应用文件夹。
- **Persistence**：设置和管理CoreData环境。
- **ContentPage**：主界面，显示所有日记条目。
- **NewDiaryEntry**：用于捕获新条目的数据结构，包括时间戳、文本和图片。
- **PhotoPicker**：集成PHPickerViewController来选择图片。



### AppDelegate

- 负责应用的启动和初始化流程。
- 在应用首次启动时创建必要的目录结构，如图片存储目录。

### Persistence

- 使用CoreData框架进行数据持久化。
- 定义了两个实体：`DiaryEntry`和`Photo`，其中`DiaryEntry`包含条目的文本和时间戳，`Photo`实体存储图片相关信息。
- 使用`NSPersistentContainer`来管理数据模型和存储。

### ContentPage View

- SwiftUI视图，作为应用的主界面。
- 使用`@FetchRequest`来获取并显示所有日记条目。
- 集成了滑动视图和导航视图，提高用户体验。

### PhotoPicker

- 集成了iOS的`PHPickerViewController`，允许用户从相册中选择图片。
- 选择的图片会被加载为`UIImage`对象，并被传递给新日记条目视图。

## 环境依赖

- **iOS 14.0+**：本应用需要iOS 14.0或更高版本。
- **SwiftUI**：界面使用SwiftUI构建。
- **CoreData**：用于数据持久化。

## 安装和构建

本应用使用Xcode作为开发和构建环境。要运行或修改本应用，你需要安装Xcode 12 或更高版本。

1. 克隆仓库到本地：

   ```bash
   git clone https://github.com/Linlinliny/diary.git
   ```

2. 使用Xcode打开`diary.xcodeproj`。

3. 选择一个iOS模拟器或连接你的iOS设备进行构建和运行。

------


